<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flair Owner – Terms of service</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />

  <style>
    :root {
      /* Light Flair owner theme */
      --bg: radial-gradient(circle at top left, #fdf2ff, #f9f5ff 45%, #f4f4ff 100%);
      --shell-bg: #ffffff;
      --card-bg: #ffffff;
      --card-border: #e2d4f5;

      --accent: #b47eb3;
      --accent-blue: #6366f1;
      --accent-purple: #ec4899;

      --text-main: #1f2933;
      --text-muted: #6b7280;

      --radius-pill: 999px;
      --shadow-shell: 0 18px 50px rgba(148, 163, 184, 0.35);
      --shadow-card: 0 10px 30px rgba(148, 163, 184, 0.25);

      --transition-fast: 0.18s ease-out;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Inter", sans-serif;
    }

    body {
      min-height: 100vh;
      background: var(--bg);
      color: var(--text-main);
      display: flex;
      justify-content: center;
      padding: 14px;
    }

    .shell {
      width: 100%;
      max-width: 1160px;
      min-height: min(96vh, 820px);
      background: var(--shell-bg);
      border-radius: 26px;
      border: 1px solid #f3e8ff;
      box-shadow: var(--shadow-shell);
      display: flex;
      flex-direction: column;
      position: relative;
      overflow: hidden;
    }

    .shell::before {
      content: "";
      position: absolute;
      inset: -20% -20% auto auto;
      background: radial-gradient(circle at top right, rgba(180, 126, 179, 0.18), transparent 70%);
      pointer-events: none;
      opacity: 1;
    }

    /* Top bar */
    .topbar {
      position: relative;
      z-index: 5;
      padding: 12px 18px 8px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      border-bottom: 1px solid #e5e7eb;
      background: linear-gradient(90deg, #ffffffcc, #fdf2ffdd);
      backdrop-filter: blur(14px);
    }

    .brand-area {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .back-chip {
      border: none;
      outline: none;
      padding: 6px 12px 6px 6px;
      border-radius: var(--radius-pill);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      background: linear-gradient(135deg, #fce7f3, #e0e7ff);
      box-shadow: 0 8px 22px rgba(148, 163, 184, 0.55);
      color: #4b164c;
      font-size: 0.8rem;
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), filter var(--transition-fast);
    }

    .back-icon {
      width: 22px;
      height: 22px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #ffffff;
      color: #4b164c;
      box-shadow: 0 0 0 1px rgba(244, 114, 182, 0.35);
      font-size: 0.85rem;
    }

    .back-chip:hover {
      transform: translateY(-1px);
      filter: brightness(1.03);
      box-shadow: 0 10px 26px rgba(148, 163, 184, 0.75);
    }

    .back-chip:active {
      transform: translateY(0);
      box-shadow: 0 4px 14px rgba(148, 163, 184, 0.6);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .brand-logo-text {
      font-size: 1.1rem;
      font-weight: 800;
      background: linear-gradient(120deg, #b47eb3, #ec4899, #6366f1);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      letter-spacing: 0.05em;
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }
    .brand-sub {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #9f7aea;
    }

    .top-right {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .owner-chip {
      padding: 4px 9px;
      border-radius: var(--radius-pill);
      border: 1px solid #e5e7eb;
      background: #ffffff;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 0.8rem;
      color: var(--text-muted);
      box-shadow: 0 4px 14px rgba(148, 163, 184, 0.3);
    }
    .owner-avatar {
      width: 24px;
      height: 24px;
      border-radius: 999px;
      background: radial-gradient(circle at top, #f9a8d4, #b47eb3);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.78rem;
      font-weight: 700;
      color: #4b164c;
      box-shadow: 0 0 0 2px #fdf2ff;
    }

    .date-pill {
      padding: 5px 11px;
      border-radius: var(--radius-pill);
      border: 1px solid #e5e7eb;
      background: #f9fafb;
      font-size: 0.8rem;
      color: var(--text-muted);
      display: inline-flex;
      align-items: center;
      gap: 7px;
    }
    .date-pill i {
      color: var(--accent);
    }

    /* Main */
    .main {
      position: relative;
      z-index: 1;
      flex: 1;
      padding: 14px 18px 16px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      background: radial-gradient(circle at top left, #fdf2ff, #ffffff 45%, #f9fafb 100%);
      overflow-y: auto;
    }

    .header-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .header-left h1 {
      font-size: 1.35rem;
      margin-bottom: 4px;
    }
    .header-left p {
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .tag-pill {
      padding: 5px 11px;
      border-radius: var(--radius-pill);
      border: 1px solid #e5e7eb;
      font-size: 0.78rem;
      color: var(--text-muted);
      background: #ffffff;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .content-shell {
      border-radius: 18px;
      border: 1px solid var(--card-border);
      background: var(--card-bg);
      box-shadow: var(--shadow-card);
      padding: 12px 13px;
      display: flex;
      flex-direction: column;
      gap: 12px;
      min-height: 0;
      overflow: hidden;
    }

    .tos-meta-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
      font-size: 0.78rem;
      color: var(--text-muted);
    }

    .pill-soft {
      padding: 3px 8px;
      border-radius: var(--radius-pill);
      border: 1px solid #e5e7eb;
      background: #f9fafb;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: #4b5563;
    }

    .toc-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      font-size: 0.78rem;
    }
    .toc-link {
      padding: 4px 9px;
      border-radius: var(--radius-pill);
      border: 1px solid #e5e7eb;
      color: #374151;
      background: #ffffff;
      cursor: pointer;
      text-decoration: none;
      transition: all var(--transition-fast);
    }
    .toc-link:hover {
      border-color: #c4b5fd;
      box-shadow: 0 8px 18px rgba(148, 163, 184, 0.6);
    }

    .tos-scroll {
      margin-top: 6px;
      padding-right: 6px;
      overflow-y: auto;
      font-size: 0.85rem;
      line-height: 1.55;
      color: #374151;
      max-height: 460px; /* scrollable on laptop */
    }

    .tos-scroll h2 {
      font-size: 0.96rem;
      margin-top: 10px;
      margin-bottom: 4px;
    }

    .tos-scroll h3 {
      font-size: 0.88rem;
      margin-top: 8px;
      margin-bottom: 3px;
    }

    .tos-scroll p {
      margin-bottom: 6px;
      color: #4b5563;
    }

    .tos-scroll ul {
      margin: 0 0 6px 18px;
      padding: 0;
      list-style: disc;
    }

    .tos-scroll li {
      margin-bottom: 4px;
    }

    .highlight {
      color: #6366f1;
    }

    .important {
      color: #b91c1c;
    }

    .tos-scroll strong {
      font-weight: 600;
    }

    .footer-note {
      margin-top: 6px;
      font-size: 0.75rem;
      color: #6b7280;
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
      align-items: center;
    }

    .footer-actions {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .tos-accept {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.78rem;
      color: #4b5563;
    }

    .tos-accept input {
      width: 14px;
      height: 14px;
      cursor: pointer;
    }

    .btn-ghost,
    .btn-primary {
      padding: 5px 12px;
      border-radius: var(--radius-pill);
      font-size: 0.78rem;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      border: 1px solid transparent;
      background: transparent;
      transition: all var(--transition-fast);
    }

    .btn-ghost {
      border-color: #e5e7eb;
      background: #ffffff;
      color: #4b5563;
    }
    .btn-ghost:hover {
      border-color: #c4b5fd;
      box-shadow: 0 8px 20px rgba(148, 163, 184, 0.7);
    }

    .btn-primary {
      border-color: #f9a8d4;
      background: linear-gradient(135deg, #fce7f3, #f5e3ff);
      color: #4b164c;
      box-shadow: 0 8px 22px rgba(244, 114, 182, 0.55);
    }
    .btn-primary:hover {
      filter: brightness(1.03);
      box-shadow: 0 10px 26px rgba(244, 114, 182, 0.75);
    }

    .btn-primary:disabled {
      opacity: 0.6;
      cursor: default;
      box-shadow: none;
    }

    @media (max-width: 900px) {
      .shell {
        min-height: 100vh;
        border-radius: 0;
        border: none;
      }
      body {
        padding: 0;
      }
      .main {
        padding: 12px 14px 12px;
      }
      .tos-scroll {
        max-height: none;
      }
    }

    @media (max-width: 640px) {
      .tos-scroll {
        font-size: 0.84rem;
      }
    }
  </style>
</head>
<body>
  <div class="shell">
    <!-- Top bar -->
    <header class="topbar">
      <div class="brand-area">
        <button type="button" class="back-chip" id="backFromTos">
          <span class="back-icon">
            <i class="fas fa-arrow-left"></i>
          </span>
          <span class="back-text">Back</span>
        </button>
        <div class="brand">
          <div class="brand-logo-text">Flair</div>
          <div class="brand-text">
            <div class="brand-sub">Flair owner</div>
          </div>
        </div>
      </div>

      <div class="top-right">
        <div class="owner-chip">
          <div class="owner-avatar" id="ownerAvatar">A</div>
          <span id="ownerChipText">Your salon • Owner</span>
        </div>
        <div class="date-pill">
          <i class="fas fa-calendar-day"></i>
          <span id="todayText">Today</span>
        </div>
      </div>
    </header>

    <!-- Main -->
    <main class="main">
      <div class="header-row">
        <div class="header-left">
          <h1>Terms of service</h1>
          <p>How Flair works for salon owners using the owner dashboard.</p>
        </div>
        <div class="header-right">
          <div class="tag-pill">
            <i class="fas fa-scale-balanced"></i>
            Please read this carefully
          </div>
        </div>
      </div>

      <section class="content-shell">
        <div class="tos-meta-row">
          <div class="pill-soft">
            <i class="fas fa-file-contract"></i>
            <span>Last updated: <span id="lastUpdatedText">27 Feb 2026</span></span>
          </div>
          <div class="toc-grid">
            <button class="toc-link" data-target="section-intro">Intro</button>
            <button class="toc-link" data-target="section-using-flair">Using Flair</button>
            <button class="toc-link" data-target="section-bookings">Bookings</button>
            <button class="toc-link" data-target="section-payments">Payments</button>
            <button class="toc-link" data-target="section-data">Data & privacy</button>
            <button class="toc-link" data-target="section-limits">Responsibilities</button>
            <button class="toc-link" data-target="section-legal">Legal</button>
          </div>
        </div>

        <div class="tos-scroll" id="tosScroll">
          <!-- all your original content unchanged -->
          <!-- 1. Introduction -->
          <h2 id="section-intro">1. Introduction</h2>
          <p>
            These Terms of Service explain how the <span class="highlight">Flair owner dashboard</span> (the “Service”) works for salon owners and authorised staff who manage a salon or chain of salons using Flair. By creating an owner account or continuing to use the Service, you agree to these Terms. [web:181]
          </p>
          <p>
            Flair is a software platform that helps you manage appointments, services, staff, clients and payments for your salon. Flair does not operate your salon, employ your staff, or guarantee your business results – it provides tools so that you can run your own operations more efficiently. [web:181]
          </p>

          <h2 id="section-using-flair">2. Using Flair as an owner</h2>
          <p>
            You are responsible for all activity that happens under your owner account and any staff accounts you create. You must ensure that only trusted team members have access, and that login details are kept secure and not shared with unauthorised people. [web:181]
          </p>
          <p>
            You agree to use Flair only for legitimate salon or beauty business purposes, and not for any illegal, abusive or misleading activity (for example, creating fake bookings, spam messaging, or storing unlawful content). Flair may suspend or restrict access if misuse, fraud or security risks are detected. [web:181]
          </p>

          <h3>What Flair provides</h3>
          <p>Flair typically gives you:</p>
          <ul>
            <li>Access to an owner dashboard to view bookings, calendar, services, team, and high‑level performance summaries.</li>
            <li>Tools to configure your services, pricing, durations, staff roles, and opening hours.</li>
            <li>Features to manage appointments, reschedules, cancellations and basic communication with clients (such as reminders or confirmations through supported channels like SMS, email or WhatsApp).</li>
            <li>Settings pages to manage salon address, payment details, notification preferences and basic profile information.</li>
          </ul>

          <h3>What Flair does not do</h3>
          <p>Flair does not:</p>
          <ul>
            <li>Hire, employ or manage your staff or freelancers – you remain fully responsible for employment and HR matters.</li>
            <li>Set your prices, taxes or discounts – you configure these and must comply with applicable law and tax rules in your region.</li>
            <li>Guarantee that clients will show up, pay on time or behave appropriately – Flair only surfaces the booking and communication tools.</li>
          </ul>

          <h2 id="section-bookings">3. Bookings, clients and calendar</h2>
          <p>
            All bookings created through the owner dashboard, client app or any integrated channels are considered appointments between you (the salon) and your client. Flair is not a party to your agreements with clients; it simply records and displays those bookings. [web:181]
          </p>
          <p>
            You decide which services are bookable, how many slots you offer, and which staff can be assigned. You are responsible for honouring confirmed bookings or, where necessary, cancelling or rescheduling them in a timely and respectful way. [web:181]
          </p>

          <h3>Client communication</h3>
          <p>
            Flair can send automated messages (such as confirmations, reminders or cancellation notices) based on your notification settings. Message delivery can depend on third‑party providers (SMS gateways, email providers, WhatsApp APIs, etc.), so delivery is not guaranteed every time. [web:181]
          </p>
          <p>
            You are responsible for the content and tone of any custom messages you configure, and for complying with local rules on marketing communications, consent and do‑not‑disturb regulations. [web:181]
          </p>

          <h2 id="section-payments">4. Payments, payouts and fees</h2>
          <p>
            If you connect payment methods (for example card, UPI or other gateways), the actual processing of payments is handled by third‑party payment partners. Flair itself does not store full card details and does not act as a bank or wallet; it passes payment instructions securely to those providers. [web:181]
          </p>
          <p>
            You remain the “merchant of record” for all services you sell to your clients. That means you are responsible for:
          </p>
          <ul>
            <li>Setting prices, taxes, tips and any discounts.</li>
            <li>Issuing invoices, bills or receipts where required by law.</li>
            <li>Handling client disputes, refunds and chargebacks for your services.</li>
          </ul>
          <p>
            Any fees charged for using Flair or connected payment services (for example subscription fees, per‑transaction fees or gateway charges) will be communicated separately in your plan or billing page. You agree to pay these fees on time to continue using the Service. [web:176]
          </p>

          <h2 id="section-data">5. Data, privacy and security</h2>
          <p>
            You retain ownership of the data you enter into Flair about your salon, services, staff and clients. Flair may store, process and analyse this data solely to provide and improve the Service (for example to show analytics, suggest actions or improve reliability). [web:181]
          </p>
          <p>
            You are responsible for collecting and using client data fairly and lawfully. This includes:
          </p>
          <ul>
            <li>Only storing information that is relevant for running your salon (e.g. contact details, booking history, preferences).</li>
            <li>Keeping client information secure and not sharing it with unauthorised third parties.</li>
            <li>Respecting applicable privacy and data‑protection laws in your region.</li>
          </ul>
          <p>
            Flair uses reasonable technical and organisational measures to protect the Service (such as encryption, access control and monitoring), but no online platform can be 100% risk‑free. You should use strong passwords, enable any available security features, and restrict access to trusted staff only. [web:181]
          </p>

          <h2 id="section-limits">6. Owner responsibilities and acceptable use</h2>
          <p class="important">
            You are fully responsible for how you and your staff use Flair. Misuse of the platform can lead to suspension or termination of access. [web:181]
          </p>
          <p>In particular, you agree not to:</p>
          <ul>
            <li>Use Flair to send spam, threats, abusive or misleading content to clients or staff.</li>
            <li>Interfere with, reverse engineer or attempt to bypass security or technical limits in the software.</li>
            <li>Use the Service in a way that could damage Flair’s infrastructure, reputation or other users’ experience.</li>
          </ul>
          <p>
            You also agree to keep your salon information accurate and up‑to‑date – including address, contact details, opening hours, payment details and staff information – so that clients are not misled and can reach you if needed. [web:181]
          </p>

          <h2 id="section-legal">7. Service changes, limits and legal terms</h2>
          <h3>Availability and changes</h3>
          <p>
            Flair aims to keep the Service available and stable, but there may be planned maintenance windows, updates or unexpected outages. Features may be improved, changed or removed over time as the product evolves. Where changes are significant, we will aim to inform owners through the dashboard or other communication channels. [web:181]
          </p>

          <h3>Limitation of liability</h3>
          <p>
            To the extent allowed by law, Flair is provided on an “as‑is” and “as‑available” basis. The platform is not liable for indirect or consequential losses such as lost profits, missed bookings, damage to reputation, or data loss arising from your use of the Service, downtime, or third‑party failures (like payment gateways or telecom networks). [web:181]
          </p>

          <h3>Termination</h3>
          <p>
            You can stop using Flair at any time by closing your owner account or choosing not to renew your subscription. Flair may suspend or terminate access if there is non‑payment, repeated misuse, security risk or serious violation of these Terms. In such cases, you may lose access to your dashboard and certain data after a reasonable period. [web:181]
          </p>

          <h3>Updates to these Terms</h3>
          <p>
            These Terms may be updated from time to time as Flair adds new features or legal requirements change. When this happens, the “Last updated” date at the top of this page will change, and we may notify you through the owner dashboard or by email. If you continue to use the Service after changes take effect, you are considered to have accepted the updated Terms. [web:181]
          </p>

          <h3>Contact</h3>
          <p>
            If you have questions about how Flair works for owners or about these Terms of Service, you can reach the support team from the owner dashboard under <strong>Settings &gt; Support</strong>. [web:181]
          </p>
        </div>

        <div class="footer-note">
          <span>
            This summary explains how Flair works for owners in clear language and is not a substitute for tailored legal advice for your salon.
          </span>
          <div class="footer-actions">
            <label class="tos-accept">
              <input type="checkbox" id="chkAcceptTos" />
              <span>I have read and accept these Terms</span>
            </label>
            <button type="button" class="btn-ghost" id="btnScrollTop">
              <i class="fas fa-arrow-up"></i>
              Back to top
            </button>
            <button type="button" class="btn-primary" id="btnSaveTos" disabled>
              <i class="fas fa-check"></i>
              Save & continue
            </button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Firebase init -->
  <script type="module" src="firebase-init.js"></script>

  <script type="module">
    import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";

    const { auth, db, firestoreFns } = window.flairFirebase || {};
    const { doc, getDoc, setDoc, onSnapshot, serverTimestamp } = firestoreFns || {};

    function ensureFirebase() {
      if (!auth || !db || !doc || !getDoc || !setDoc || !onSnapshot || !serverTimestamp) {
        alert("Firebase not initialized on this page. Please check firebase-init.js.");
        throw new Error("Firebase not initialized in terms-of-service page");
      }
    }

    const CURRENT_TOS_VERSION = "2026-02-27";

    // Today + last updated text
    const today = new Date();
    document.getElementById("todayText").textContent =
      today.toLocaleDateString("en-IN", {
        weekday: "short",
        day: "numeric",
        month: "short",
      });
    document.getElementById("lastUpdatedText").textContent =
      today.toLocaleDateString("en-IN", {
        day: "numeric",
        month: "short",
        year: "numeric",
      });

    const params = new URLSearchParams(window.location.search);
    const currentSalonId = params.get("salonId") || "";

    // Back button
    const backFromTos = document.getElementById("backFromTos");
    backFromTos.addEventListener("click", () => {
      const p = new URLSearchParams(window.location.search);
      const salonId = p.get("salonId");
      if (window.history.length > 1) {
        window.history.back();
      } else {
        const target = salonId
          ? `owner-settings.html?salonId=${encodeURIComponent(salonId)}`
          : "owner-settings.html";
        window.location.href = target;
      }
    });

    // TOC scroll behaviour
    const tosScroll = document.getElementById("tosScroll");
    document.querySelectorAll(".toc-link").forEach((btn) => {
      btn.addEventListener("click", () => {
        const targetId = btn.getAttribute("data-target");
        const section = document.getElementById(targetId);
        if (!section) return;
        const top = section.offsetTop;
        tosScroll.scrollTo({
          top: top - 4,
          behavior: "smooth",
        });
      });
    });

    // Back to top
    document.getElementById("btnScrollTop").addEventListener("click", () => {
      tosScroll.scrollTo({ top: 0, behavior: "smooth" });
    });

    const chkAcceptTos = document.getElementById("chkAcceptTos");
    const btnSaveTos = document.getElementById("btnSaveTos");
    const ownerAvatar = document.getElementById("ownerAvatar");
    const ownerChipText = document.getElementById("ownerChipText");

    chkAcceptTos.addEventListener("change", () => {
      btnSaveTos.disabled = !chkAcceptTos.checked;
    });

    async function saveTos(user) {
      if (!chkAcceptTos.checked) {
        alert("Please confirm that you accept the Terms to continue.");
        return;
      }

      try {
        ensureFirebase();
        const ownerRef = doc(db, "owners", user.uid);
        await setDoc(
          ownerRef,
          {
            tosAccepted: true,
            tosVersion: CURRENT_TOS_VERSION,
            tosAcceptedAt: serverTimestamp(),
          },
          { merge: true }
        );
        alert("Terms accepted. Thank you.");
      } catch (e) {
        console.error("Error saving TOS acceptance:", e);
        alert("Could not save your response. Please try again.");
      }
    }

    btnSaveTos.addEventListener("click", () => {
      const user = auth && auth.currentUser;
      if (!user) {
        alert("You are not logged in.");
        return;
      }
      saveTos(user);
    });

    onAuthStateChanged(auth, async (user) => {
      if (!user) {
        window.location.href = "index.html";
        return;
      }

      try {
        ensureFirebase();

        const ownerRef = doc(db, "owners", user.uid);

        onSnapshot(ownerRef, async (snap) => {
          let data = {};
          if (snap.exists()) {
            data = snap.data() || {};
          } else {
            data = {
              ownerName: user.displayName || "",
              phoneNumber: user.phoneNumber || "",
              email: user.email || "",
            };
            await setDoc(ownerRef, data, { merge: true });
          }

          const ownerName = data.ownerName || user.displayName || "Owner";
          const initials = ownerName.trim() ? ownerName.trim()[0].toUpperCase() : "O";
          ownerAvatar.textContent = initials;

          if (currentSalonId) {
            const salonRef = doc(db, "salons", currentSalonId);
            const salonSnap = await getDoc(salonRef);
            if (salonSnap.exists()) {
              const salonData = salonSnap.data() || {};
              const salonName = salonData.businessName || "Your salon";
              ownerChipText.textContent = salonName + " • Owner";
            } else {
              ownerChipText.textContent = "Your salon • Owner";
            }
          } else {
            ownerChipText.textContent = "Your salon • Owner";
          }

          const alreadyAccepted =
            data.tosAccepted === true && data.tosVersion === CURRENT_TOS_VERSION;
          chkAcceptTos.checked = alreadyAccepted;
          btnSaveTos.disabled = !chkAcceptTos.checked;
        });
      } catch (e) {
        console.error("Error loading TOS status:", e);
        ownerChipText.textContent = "Your salon • Owner";
      }
    });
  </script>
</body>
</html>
