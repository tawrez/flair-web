<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Owner Profile - Flair</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --primary-gradient: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
      --bg-dark: #0f172a;
      --card-bg: #ffffff;
      --input-bg: #f8fafc;
      --text-main: #1e293b;
      --text-muted: #64748b;
      --border-color: #e2e8f0;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }

    body {
      background-color: var(--bg-dark);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 40px 20px;
    }

    .profile-container {
      width: 100%;
      max-width: 850px;
      background: var(--card-bg);
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    }

    .header-gradient {
      height: 160px;
      background: linear-gradient(to right, #6d28d9, #2563eb);
      position: relative;
    }

    .avatar-container {
      position: absolute;
      bottom: -50px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 100px;
      background: white;
      border-radius: 50%;
      padding: 5px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .avatar-circle {
      width: 100%;
      height: 100%;
      background: var(--primary-gradient);
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-size: 2.5rem;
    }

    .avatar-circle i { font-size: 2.1rem; }

    .content { padding: 70px 40px 40px; }
    .header-text { text-align: center; margin-bottom: 40px; }
    h1 { color: var(--text-main); font-size: 2rem; margin-bottom: 8px; }
    .subtitle { color: var(--text-muted); }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
    }

    .form-group { margin-bottom: 5px; }
    .full-width { grid-column: span 2; }

    .label-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      color: var(--text-muted);
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    input, textarea {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid var(--border-color);
      border-radius: 12px;
      background: var(--input-bg);
      color: var(--text-main);
      font-size: 1rem;
      transition: all 0.2s;
    }

    input:focus, textarea:focus {
      outline: none;
      border-color: #6366f1;
      background: white;
      box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
    }

    input[readonly] {
      background: #e5e7eb;
      color: #4b5563;
      cursor: not-allowed;
    }

    .hint-text {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .autocomplete-wrapper { position: relative; }
    .autocomplete-list {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      max-height: 180px;
      overflow-y: auto;
      background: #ffffff;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 10px 25px rgba(15,23,42,0.18);
      z-index: 20;
    }
    .autocomplete-item {
      padding: 8px 12px;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      color: #111827;
    }
    .autocomplete-item i { color: #6b7280; font-size: 0.9rem; }
    .autocomplete-item:hover { background: #eef2ff; }
    .no-suggestion {
      padding: 8px 12px;
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .timings-card {
      background: #fdfdfd;
      border: 1px solid #f1f5f9;
      border-radius: 16px;
      padding: 24px;
      margin-top: 10px;
    }
    .timings-grid { display: flex; flex-direction: column; gap: 12px; }
    .timing-row {
      display: grid;
      grid-template-columns: 120px 1fr;
      align-items: center;
      padding: 8px 12px;
      background: white;
      border: 1px solid var(--border-color);
      border-radius: 12px;
    }
    .day-name { font-weight: 600; color: var(--text-main); font-size: 0.9rem; }
    .time-pickers { display: flex; align-items: center; gap: 12px; }
    .time-pickers input[type="time"] {
      padding: 8px 12px;
      font-size: 0.85rem;
      border-radius: 8px;
      border: 1px solid var(--border-color);
      background: var(--input-bg);
    }
    .time-separator { color: var(--text-muted); font-size: 0.8rem; font-weight: 500; }

    .image-upload-card {
      background: #fdfdfd;
      border: 1px dashed #cbd5f5;
      border-radius: 16px;
      padding: 18px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .image-upload-row {
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
    }
    .upload-label {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      border-radius: 999px;
      background: #eef2ff;
      color: #4f46e5;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
    }
    .upload-label i { font-size: 1rem; }
    #salonImagesInput { display: none; }
    .upload-note { font-size: 0.75rem; color: var(--text-muted); }
    .image-preview-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 4px;
    }
    .image-thumb {
      width: 72px;
      height: 72px;
      border-radius: 12px;
      overflow: hidden;
      position: relative;
      background: #e5e7eb;
      flex-shrink: 0;
    }
    .image-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .image-thumb-remove {
      position: absolute;
      top: 4px;
      right: 4px;
      width: 20px;
      height: 20px;
      border-radius: 999px;
      background: rgba(15,23,42,0.75);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 0.65rem;
      cursor: pointer;
    }

    .actions {
      margin-top: 30px;
      display: flex;
      gap: 16px;
      justify-content: center;
    }
    .btn {
      padding: 14px 40px;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 1rem;
      text-decoration: none;
      display: inline-block;
      text-align: center;
    }
    .btn-primary {
      background: var(--primary-gradient);
      color: white;
      border: none;
      box-shadow: 0 4px 6px rgba(99, 102, 241, 0.2);
    }
    .btn-secondary {
      background: white;
      color: var(--text-main);
      border: 1px solid var(--border-color);
    }

    @media (max-width: 640px) {
      .form-grid { grid-template-columns: 1fr; }
      .full-width { grid-column: span 1; }
      .timing-row { grid-template-columns: 1fr; gap: 10px; }
      .time-pickers { flex-direction: column; align-items: stretch; }
      .content { padding: 70px 20px 30px; }
    }
  </style>
</head>
<body>
  <div class="profile-container">
    <div class="header-gradient">
      <div class="avatar-container">
        <div class="avatar-circle">
          <i class="fas fa-user"></i>
        </div>
      </div>
    </div>
    
    <div class="content">
      <div class="header-text">
        <h1>Manage Profile</h1>
        <p class="subtitle">Customize your salon's digital presence</p>
      </div>
      
      <form id="profileForm" class="form-grid">
        <div class="form-group">
          <div class="label-row"><i class="fas fa-user"></i><label>Owner Name</label></div>
          <input type="text" id="ownerName" placeholder="Owner full name" required>
        </div>

        <div class="form-group">
          <div class="label-row"><i class="fas fa-building"></i><label>Business Name</label></div>
          <input type="text" id="businessName" placeholder="Salon / Spa name" required>
        </div>

        <div class="form-group">
          <div class="label-row"><i class="fas fa-envelope"></i><label>Email Address</label></div>
          <input type="email" id="email" placeholder="owner@example.com" required>
        </div>

        <div class="form-group">
          <div class="label-row"><i class="fas fa-phone"></i><label>Primary Phone (verified)</label></div>
          <input type="tel" id="phonePrimary" readonly>
          <div class="hint-text">Linked to your Flair login. To change this, update your login number.</div>
        </div>

        <div class="form-group full-width">
          <div class="label-row"><i class="fas fa-phone-volume"></i><label>Secondary Contact Number (optional)</label></div>
          <input type="tel" id="phoneSecondary" placeholder="Alternate contact number">
        </div>

        <div class="form-group full-width">
          <div class="label-row">
            <i class="fas fa-clock"></i>
            <label>Business Hours</label>
          </div>
          <div class="timings-card">
            <div class="timings-grid">
              <div class="timing-row">
                <span class="day-name">Monday</span>
                <div class="time-pickers">
                  <input type="time" data-day="mon" data-field="open" value="09:00">
                  <span class="time-separator">to</span>
                  <input type="time" data-day="mon" data-field="close" value="21:00">
                </div>
              </div>
              <div class="timing-row">
                <span class="day-name">Tuesday</span>
                <div class="time-pickers">
                  <input type="time" data-day="tue" data-field="open" value="09:00">
                  <span class="time-separator">to</span>
                  <input type="time" data-day="tue" data-field="close" value="21:00">
                </div>
              </div>
              <div class="timing-row">
                <span class="day-name">Wednesday</span>
                <div class="time-pickers">
                  <input type="time" data-day="wed" data-field="open" value="09:00">
                  <span class="time-separator">to</span>
                  <input type="time" data-day="wed" data-field="close" value="21:00">
                </div>
              </div>
              <div class="timing-row">
                <span class="day-name">Thursday</span>
                <div class="time-pickers">
                  <input type="time" data-day="thu" data-field="open" value="09:00">
                  <span class="time-separator">to</span>
                  <input type="time" data-day="thu" data-field="close" value="21:00">
                </div>
              </div>
              <div class="timing-row">
                <span class="day-name">Friday</span>
                <div class="time-pickers">
                  <input type="time" data-day="fri" data-field="open" value="09:00">
                  <span class="time-separator">to</span>
                  <input type="time" data-day="fri" data-field="close" value="21:00">
                </div>
              </div>
              <div class="timing-row">
                <span class="day-name">Saturday</span>
                <div class="time-pickers">
                  <input type="time" data-day="sat" data-field="open" value="10:00">
                  <span class="time-separator">to</span>
                  <input type="time" data-day="sat" data-field="close" value="22:00">
                </div>
              </div>
              <div class="timing-row">
                <span class="day-name">Sunday</span>
                <div class="time-pickers">
                  <input type="time" data-day="sun" data-field="open" value="10:00">
                  <span class="time-separator">to</span>
                  <input type="time" data-day="sun" data-field="close" value="20:00">
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="form-group full-width">
          <div class="label-row"><i class="fas fa-map-marker-alt"></i><label>Business Address</label></div>
          <textarea id="address" rows="2" required placeholder="123 Beauty Lane, Indiranagar, Bengaluru"></textarea>
        </div>

        <div class="form-group">
          <div class="label-row"><i class="fas fa-city"></i><label>City</label></div>
          <div class="autocomplete-wrapper">
            <input type="text" id="city" autocomplete="off" placeholder="Start typing your city" required>
            <div class="autocomplete-list" id="cityList" style="display:none;"></div>
          </div>
        </div>

        <div class="form-group">
          <div class="label-row"><i class="fas fa-flag"></i><label>State / UT</label></div>
          <div class="autocomplete-wrapper">
            <input type="text" id="state" autocomplete="off" placeholder="Start typing your state" required>
            <div class="autocomplete-list" id="stateList" style="display:none;"></div>
          </div>
        </div>

        <div class="form-group">
          <div class="label-row"><i class="fas fa-tag"></i><label>Business Type</label></div>
          <input type="text" id="businessType" placeholder="Premium Salon, Menâ€™s Salon, Spa..." required>
        </div>

        <div class="form-group full-width">
          <div class="label-row"><i class="fas fa-image"></i><label>Salon / Spa Images</label></div>
          <div class="image-upload-card">
            <div class="image-upload-row">
              <label class="upload-label" for="salonImagesInput">
                <i class="fas fa-cloud-upload-alt"></i>
                <span>Upload images</span>
              </label>
              <span class="upload-note">Add up to 8 photos of your salon (JPG / PNG, ~2MB each).</span>
            </div>
            <input type="file" id="salonImagesInput" accept="image/*" multiple />
            <div class="image-preview-grid" id="imagePreviewGrid"></div>
          </div>
        </div>

        <div class="form-group full-width">
          <div class="label-row"><i class="fas fa-info-circle"></i><label>Business Description</label></div>
          <textarea id="description" rows="3" placeholder="Tell customers about your services, experience, and vibe..."></textarea>
        </div>

        <div class="actions full-width">
          <a href="index.html" class="btn btn-secondary">Cancel</a>
          <button type="submit" class="btn btn-primary">Save & Continue</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    const indianStates = [
      "Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa",
      "Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala",
      "Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland",
      "Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura",
      "Uttar Pradesh","Uttarakhand","West Bengal","Delhi","Puducherry","Chandigarh",
      "Jammu and Kashmir","Ladakh","Andaman and Nicobar Islands","Dadra and Nagar Haveli and Daman and Diu","Lakshadweep"
    ];

    const indianCities = [
      "Mumbai","Delhi","Bengaluru","Bangalore","Kolkata","Chennai","Hyderabad",
      "Pune","Ahmedabad","Jaipur","Surat","Lucknow","Kanpur","Nagpur","Indore",
      "Thane","Bhopal","Visakhapatnam","Patna","Vadodara","Ghaziabad","Ludhiana",
      "Agra","Nashik","Faridabad","Meerut","Rajkot","Kalyan","Vasai","Varanasi",
      "Srinagar","Aurangabad","Dhanbad","Amritsar","Navi Mumbai","Ranchi","Jabalpur",
      "Gwalior","Vijayawada","Jodhpur","Raipur","Kota","Guwahati","Chandigarh",
      "Mysuru","Mysore","Noida","Gurugram","Gurgaon","Coimbatore","Kochi","Kozhikode",
      "Thrissur","Madurai","Salem","Trichy","Tiruchirappalli","Hubballi",
      "Dharwad","Belagavi","Belgaum"
    ];

    const cityToState = {
      "mumbai": "Maharashtra",
      "pune": "Maharashtra",
      "nagpur": "Maharashtra",
      "aurangabad": "Maharashtra",
      "bengaluru": "Karnataka",
      "bangalore": "Karnataka",
      "mysuru": "Karnataka",
      "mysore": "Karnataka",
      "hubballi": "Karnataka",
      "dharwad": "Karnataka",
      "belagavi": "Karnataka",
      "belgaum": "Karnataka",
      "delhi": "Delhi",
      "noida": "Uttar Pradesh",
      "gurugram": "Haryana",
      "gurgaon": "Haryana",
      "chennai": "Tamil Nadu",
      "coimbatore": "Tamil Nadu",
      "madurai": "Tamil Nadu",
      "salem": "Tamil Nadu",
      "trichy": "Tamil Nadu",
      "tiruchirappalli": "Tamil Nadu",
      "hyderabad": "Telangana",
      "visakhapatnam": "Andhra Pradesh",
      "kolkata": "West Bengal",
      "jaipur": "Rajasthan",
      "ahmedabad": "Gujarat",
      "surat": "Gujarat",
      "lucknow": "Uttar Pradesh",
      "kanpur": "Uttar Pradesh",
      "kochi": "Kerala",
      "kozhikode": "Kerala",
      "thrissur": "Kerala"
    };

    function setupAutocomplete(inputId, listId, dataArray, iconClass, options = {}) {
      const input = document.getElementById(inputId);
      const list = document.getElementById(listId);

      function closeList() {
        list.style.display = "none";
        list.innerHTML = "";
      }

      input.addEventListener("input", () => {
        const val = input.value.trim().toLowerCase();
        list.innerHTML = "";
        if (!val) {
          closeList();
          return;
        }

        let sourceArray = dataArray;
        if (options.filterByCity) {
          const cityInput = document.getElementById(options.filterByCity);
          const cityVal = cityInput.value.trim().toLowerCase();
          const mappedState = cityToState[cityVal];
          if (mappedState) {
            sourceArray = [mappedState];
          }
        }

        const matches = sourceArray
          .filter(item => item.toLowerCase().startsWith(val))
          .slice(0, 10);

        if (!matches.length) {
          const empty = document.createElement("div");
          empty.className = "no-suggestion";
          empty.textContent = "No matches found";
          list.appendChild(empty);
          list.style.display = "block";
          return;
        }

        matches.forEach(name => {
          const item = document.createElement("div");
          item.className = "autocomplete-item";
          item.innerHTML = `<i class="${iconClass}"></i><span>${name}</span>`;
          item.addEventListener("click", () => {
            input.value = name;
            closeList();
            if (options.onSelect) options.onSelect(name);
          });
          list.appendChild(item);
        });

        list.style.display = "block";
      });

      input.addEventListener("blur", () => {
        setTimeout(closeList, 150);
      });

      input.addEventListener("focus", () => {
        if (input.value.trim()) {
          input.dispatchEvent(new Event("input"));
        }
      });
    }

    setupAutocomplete(
      "city",
      "cityList",
      indianCities,
      "fas fa-location-dot",
      {
        onSelect: (cityName) => {
          const stateInput = document.getElementById("state");
          const stateKey = cityName.trim().toLowerCase();
          const mapped = cityToState[stateKey];
          if (mapped) stateInput.value = mapped;
        }
      }
    );

    setupAutocomplete(
      "state",
      "stateList",
      indianStates,
      "fas fa-flag",
      { filterByCity: "city" }
    );

    const imagesInput = document.getElementById("salonImagesInput");
    const imagePreviewGrid = document.getElementById("imagePreviewGrid");
    let selectedFiles = [];

    imagesInput.addEventListener("change", () => {
      const newFiles = Array.from(imagesInput.files || []);
      newFiles.forEach(f => {
        if (selectedFiles.length >= 8) return;
        const exists = selectedFiles.some(
          sf => sf.name === f.name && sf.size === f.size && sf.lastModified === f.lastModified
        );
        if (!exists) selectedFiles.push(f);
      });
      imagesInput.value = "";
      renderImagePreviews();
    });

    function renderImagePreviews() {
      imagePreviewGrid.innerHTML = "";
      selectedFiles.forEach((file, idx) => {
        const url = URL.createObjectURL(file);
        const wrapper = document.createElement("div");
        wrapper.className = "image-thumb";
        wrapper.innerHTML = `
          <img src="${url}" alt="Salon image ${idx+1}">
          <div class="image-thumb-remove" data-idx="${idx}">
            <i class="fas fa-times"></i>
          </div>
        `;
        imagePreviewGrid.appendChild(wrapper);
      });

      imagePreviewGrid.querySelectorAll(".image-thumb-remove").forEach(btn => {
        btn.addEventListener("click", () => {
          const index = Number(btn.dataset.idx);
          selectedFiles.splice(index, 1);
          renderImagePreviews();
        });
      });
    }

    function collectBusinessHours() {
      const hours = {};
      const inputs = document.querySelectorAll('.time-pickers input[type="time"]');
      inputs.forEach((input) => {
        const day = input.dataset.day;
        const field = input.dataset.field;
        if (!hours[day]) hours[day] = {};
        hours[day][field] = input.value || null;
      });
      return hours;
    }

    document.getElementById('profileForm').addEventListener('submit', async function(e) {
      e.preventDefault();

      const ff = window.flairFirebase || {};
      const { auth, db, storage, firestoreFns, storageFns } = ff;

      if (!auth || !db || !firestoreFns) {
        alert("Firebase not initialized. Please check firebase-init.js include.");
        return;
      }
      if (!storageFns) {
        alert("Storage functions not available. Confirm firebase-init.js exports storageFns.");
        return;
      }

      const { doc, setDoc, collection, addDoc, serverTimestamp, GeoPoint } = firestoreFns;
      const { ref, uploadBytes, getDownloadURL } = storageFns;

      const user = auth.currentUser;
      if (!user) {
        alert("Session expired. Please log in again.");
        window.location.href = "index.html";
        return;
      }

      const ownerUid = user.uid;
      const primaryPhoneNumber = user.phoneNumber || "";

      const baseData = {
        ownerName: document.getElementById('ownerName').value.trim(),
        businessName: document.getElementById('businessName').value.trim(),
        email: document.getElementById('email').value.trim(),
        phonePrimary: primaryPhoneNumber,
        phoneSecondary: document.getElementById('phoneSecondary').value.trim() || null,
        address: document.getElementById('address').value.trim(),
        city: document.getElementById('city').value.trim(),
        state: document.getElementById('state').value.trim(),
        businessType: document.getElementById('businessType').value.trim(),
        description: document.getElementById('description').value.trim(),
        hours: collectBusinessHours()
      };

      function getGeoPromise() {
        return new Promise((resolve) => {
          if (!navigator.geolocation) {
            resolve(null);
            return;
          }
          navigator.geolocation.getCurrentPosition(
            (pos) => {
              resolve({
                lat: pos.coords.latitude,
                lng: pos.coords.longitude,
                accuracyMeters: pos.coords.accuracy
              });
            },
            () => resolve(null),
            { enableHighAccuracy: true, timeout: 8000, maximumAge: 0 }
          );
        });
      }

      const geo = await getGeoPromise();

      try {
        const ownerRef = doc(db, "owners", ownerUid);
        await setDoc(ownerRef, {
          ownerName: baseData.ownerName,
          phonePrimary: primaryPhoneNumber,
          phoneSecondary: baseData.phoneSecondary,
          email: baseData.email,
          updatedAt: serverTimestamp()
        }, { merge: true });

        const salonsCol = collection(db, "salons");
        const salonDocRef = await addDoc(salonsCol, {
          ownerId: ownerUid,
          businessName: baseData.businessName,
          businessType: baseData.businessType,
          description: baseData.description,
          address: baseData.address,
          city: baseData.city,
          state: baseData.state,
          phonePrimary: primaryPhoneNumber,
          phoneSecondary: baseData.phoneSecondary,
          hours: baseData.hours,
          location: geo ? new GeoPoint(geo.lat, geo.lng) : null,
          locationAccuracyMeters: geo ? geo.accuracyMeters : null,
          imageUrls: [],
          rating: 0,
          ratingCount: 0,
          isActive: true,
          createdAt: serverTimestamp(),
          updatedAt: serverTimestamp()
        });

        const salonId = salonDocRef.id;

        let imageUrls = [];
        if (selectedFiles.length) {
          const uploadPromises = selectedFiles.map(async (file, idx) => {
            const fileExt = file.name.split('.').pop() || "jpg";
            const fileRef = ref(storage, `salonImages/${salonId}/${Date.now()}_${idx}.${fileExt}`);
            const snapshot = await uploadBytes(fileRef, file);
            const url = await getDownloadURL(snapshot.ref);
            return url;
          });

          imageUrls = await Promise.all(uploadPromises);

          await setDoc(salonDocRef, {
            imageUrls,
            coverImageUrl: imageUrls[0] || null
          }, { merge: true });
        }

        await setDoc(ownerRef, {
          defaultSalonId: salonId
        }, { merge: true });

        window.location.href = "staff-onboarding.html?salonId=" + salonId;
      } catch (err) {
        console.error("Error saving profile:", err);
        alert("Could not save profile. Please try again.");
      }
    });
  </script>

  <script type="module" src="firebase-init.js"></script>
  <script type="module">
    import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";

    const { auth } = window.flairFirebase;
    const phoneInput = document.getElementById("phonePrimary");

    onAuthStateChanged(auth, (user) => {
      if (!user) {
        window.location.href = "index.html";
        return;
      }
      phoneInput.value = user.phoneNumber || "";
    });
  </script>
</body>
</html>



